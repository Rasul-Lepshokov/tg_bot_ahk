
# Интеграция Telegram-бота для автоматизации в GTA 5

Этот скрипт предназначен для автоматизации различных задач в GTA 5 с возможностью управления и мониторинга через Telegram-бота. Скрипт написан на языке AutoHotkey (AHK).

---

## Возможности

1. **Интеграция с Telegram**:
   - Отправка уведомлений о выполнении действий и ошибках.
   - Выполнение команд, отправленных через сообщения Telegram.

2. **Автоматизация в GTA 5**:
   - Автоматизация входа на сервер, взаимодействия с игровыми элементами и предотвращения AFK.

3. **Настраиваемые параметры**:
   - Настройки загружаются из файла `config.ini`.

---

## Требования

### Программное обеспечение
- [AutoHotkey](https://www.autohotkey.com/): необходимо для запуска скрипта.

### Файлы и директории
- **Файлы скрипта**:
  - `bot.ahk`: основной скрипт.
  - `Jxon.ahk`: библиотека для работы с JSON.
- **Конфигурационный файл**:
  - `config.ini`: содержит настройки Telegram-бота и другие параметры.
- **Директория изображений**:
  - `images/`: содержит все изображения, необходимые для функции ImageSearch.

---

## Настройка

1. **Установите AutoHotkey**
   Скачайте и установите AutoHotkey с сайта [https://www.autohotkey.com/](https://www.autohotkey.com/).

2. **Настройте скрипт**
   Создайте файл `config.ini` со следующим содержимым:
   ```ini
   [Telegram]
   telegramToken=ВАШ_ТОКЕН_ТЕЛЕГРАМ_БОТА
   chatID=ВАШ_CHAT_ID

   [Settings]
   password=ВАШ_ПАРОЛЬ_ДЛЯ_СЕРВЕРА
   ```

3. **Запустите скрипт**
   Дважды щелкните на `bot.ahk`, чтобы запустить скрипт.

---

## Использование

### Важные моменты
- **Игра должна быть в режиме отображения "Оконный без рамок".**
- В боте реализовано доставание телефона на стрелку вверх (`{UP}`) и убирание на Backspace (`{Backspace}`) — эти действия используются для лотереи и рулетки. 
- При необходимости изменить эти кнопки, откройте `bot.ahk` (например, через Notepad++), найдите команды `{UP}` и `{Backspace}` с помощью поиска и замените их на нужные вам. Например, можно заменить `{UP}` на `{TAB}`.

### Команды Telegram
Скрипт обрабатывает следующие команды, отправленные через Telegram:

- `/recon`: автоматизирует процесс входа на сервер и выбора персонажа.
- `/wheel`: вращает колесо казино.
- `/lottery`: покупает билет лотереи.
- `/noafk`: предотвращает пометку как AFK, отправляя регулярные нажатия клавиш.
- `/offnoafk`: отключает механизм предотвращения AFK.
- `/screen`: зарезервировано для будущей функции (в настоящее время отправляет сообщение об ошибке).

### Уведомления об ошибках
Если какая-либо часть процесса автоматизации завершилась неудачей (например, изображение не найдено), скрипт отправит уведомление об ошибке в указанный чат Telegram.

---

## Обзор функций

### `SendTelegramMessage(message)`
Отправляет сообщение в указанный чат Telegram.

### `GetTelegramUpdates()`
Получает последние обновления (команды) от Telegram-бота.

### `recon()`
Автоматизирует процесс входа на сервер и выбора персонажа.

### `wheel()`
Автоматизирует вращение колеса казино в GTA 5.

### `lottery()`
Автоматизирует покупку лотерейного билета.

### `noafk()`
Предотвращает пометку как AFK, отправляя регулярные нажатия клавиш.

### `offnoafk()`
Останавливает процесс предотвращения AFK.

### `WaitForImage(imagePath, timeout, x, y)`
Ожидает появления указанного изображения на экране в течение заданного времени.

### `ImageSearchCoord(x, y, imagePath)`
Ищет указанное изображение на экране и возвращает его координаты.
